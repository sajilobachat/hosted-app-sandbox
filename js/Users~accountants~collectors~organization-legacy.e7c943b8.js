(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Users~accountants~collectors~organization"],{"06bc":function(t,e,n){"use strict";var a=n("e064"),i=n.n(a);i.a},"16de":function(t,e,n){},"31e6":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-wrapper bg-gray d-flex justify-content-center align-items-center rounded-circle"},[t.url?n("img",{staticClass:"img-fluid rounded-circle",attrs:{src:t.url}}):n("i",{class:t.icon})])},i=[],s={name:"ImageColumn",props:{url:{type:String,default:""},icon:{type:String,default:"si si-user"}}},o=s,u=(n("cad3"),n("2877")),l=Object(u["a"])(o,a,i,!1,null,"1cbdaccf",null);e["a"]=l.exports},"47a4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.onFormSubmit(e)}}},[n("ForeShadow",{attrs:{visible:t.loading}},[n("SimpleBar",{staticClass:"modal-form-wrapper"},[t.editMode?n("EditForm",{on:{"uploading-image":t.toggleButtonDisable},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}):n("CreateForm",{on:{"uploading-image":t.toggleButtonDisable},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),n("div",{staticClass:"pt-3 d-flex justify-content-between"},[t.showBackButton?n("Button",{attrs:{type:"submit",color:"secondary",disabled:t.disableButton},on:{click:function(e){return t.$emit("back")}}},[n("i",{staticClass:"fa fa-chevron-left"}),n("span",{staticClass:"ml-2"},[t._v("Back")])]):t._e(),n("Button",{attrs:{type:"submit",loading:t.loading,disabled:t.loading||t.disableButton,color:"primary"}},[t._v(" "+t._s(t.editMode?"Update":"Create")+" ")])],1)],1)],1)},i=[],s=n("5530"),o=n("8d3b"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 col-12 d-flex justify-content-center"},[n("div",{staticClass:"h-100 my-3",staticStyle:{width:"280px","min-height":"300px","max-height":"300px"}},[n("ImageUpload",{attrs:{url:t.input.avatar_url,loading:t.isUploadingImage},on:{upload:t.onImageUpload,remove:t.removeImage}})],1)]),n("div",{staticClass:"col-md-6 col-12 order-md-first"},[n("InputText",{attrs:{title:"First Name",autofocus:"",required:""},on:{input:t.onInput},model:{value:t.input.first_name,callback:function(e){t.$set(t.input,"first_name",e)},expression:"input.first_name"}}),n("InputText",{attrs:{title:"Last Name",required:""},on:{input:t.onInput},model:{value:t.input.last_name,callback:function(e){t.$set(t.input,"last_name",e)},expression:"input.last_name"}}),n("InputUsername",{model:{value:t.input.username,callback:function(e){t.$set(t.input,"username",e)},expression:"input.username"}}),n("InputText",{attrs:{title:"Password",type:"password",required:""},on:{input:t.onInput},model:{value:t.input.password,callback:function(e){t.$set(t.input,"password",e)},expression:"input.password"}})],1),n("div",{staticClass:"col-md-6"},[n("InputText",{attrs:{title:"Phone"},on:{input:t.onInput},model:{value:t.input.phone,callback:function(e){t.$set(t.input,"phone",e)},expression:"input.phone"}})],1),n("div",{staticClass:"col-md-6"},[n("InputText",{attrs:{type:"email",title:"Email"},on:{input:t.onInput},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}})],1),n("div",{staticClass:"col-12"},[n("InputText",{attrs:{title:"Landmark"},on:{input:t.onInput},model:{value:t.input.landmark,callback:function(e){t.$set(t.input,"landmark",e)},expression:"input.landmark"}})],1)])},l=[],r=(n("d3b7"),n("7fb4")),c=n("a292"),p=n("f67a"),d=n("2612"),m={name:"CreateForm",components:{InputUsername:c["a"],InputText:r["a"],ImageUpload:p["a"]},props:{value:{type:Object,default:function(){return{}}}},data:function(){return{isUploadingImage:!1,input:{}}},watch:{value:{handler:function(t){this.input=Object(s["a"])({avatar_url:""},t)},immediate:!0}},methods:{onInput:function(){this.$emit("input",this.input)},onImageUpload:function(t){var e=this;this.isUploadingImage=!0,this.$emit("uploading-image",!0);var n=new FormData;n.append("file",t),Object(d["p"])(n).then((function(t){var n=t.filename,a=t.url;e.input.avatar=n,e.input.avatar_url=a,e.onInput(),e.imgUrl=a})).catch((function(){e.$toast.error("There was an error whilst uploading image.")})).finally((function(){e.isUploadingImage=!1,e.$emit("uploading-image",!1)}))},removeImage:function(){this.input.avatar_url="",this.input.avatar=null,this.onInput()}}},f=m,h=n("2877"),g=Object(h["a"])(f,u,l,!1,null,null,null),v=g.exports,b=n("ad4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 col-12 d-flex justify-content-center"},[n("div",{staticClass:"h-100 my-3",staticStyle:{width:"280px","min-height":"300px","max-height":"300px"}},[n("ImageUpload",{attrs:{url:t.input.avatar_url,loading:t.isUploadingImage},on:{upload:t.onImageUpload,remove:t.removeImage}})],1)]),n("div",{staticClass:"col-md-6 col-12 order-md-first"},[n("InputText",{attrs:{title:"First Name",autofocus:"",required:""},on:{input:t.onInput},model:{value:t.input.first_name,callback:function(e){t.$set(t.input,"first_name",e)},expression:"input.first_name"}}),n("InputText",{attrs:{title:"Last Name",required:""},on:{input:t.onInput},model:{value:t.input.last_name,callback:function(e){t.$set(t.input,"last_name",e)},expression:"input.last_name"}}),n("InputUsername",{model:{value:t.input.username,callback:function(e){t.$set(t.input,"username",e)},expression:"input.username"}}),n("InputText",{attrs:{type:"email",title:"Email"},on:{input:t.onInput},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}})],1),n("div",{staticClass:"col-12"},[n("InputText",{attrs:{title:"Landmark"},on:{input:t.onInput},model:{value:t.input.landmark,callback:function(e){t.$set(t.input,"landmark",e)},expression:"input.landmark"}})],1),n("div",{staticClass:"col-12"},[n("InputTextArea",{attrs:{title:"Description",rows:5},model:{value:t.input.description,callback:function(e){t.$set(t.input,"description",e)},expression:"input.description"}})],1)])},I=[],y=n("c6b1"),C={name:"EditForm",components:{InputTextArea:y["a"],InputUsername:c["a"],InputText:r["a"],ImageUpload:p["a"]},props:{value:{type:Object,default:function(){return{}}}},data:function(){return{isUploadingImage:!1,input:{}}},watch:{value:{handler:function(t){this.input=t},immediate:!0}},methods:{onInput:function(){this.$emit("input",this.input)},onImageUpload:function(t){var e=this;this.isUploadingImage=!0,this.$emit("uploading-image",!0);var n=new FormData;n.append("file",t),Object(d["p"])(n).then((function(t){var n=t.filename,a=t.url;e.input.avatar=n,e.input.avatar_url=a,e.onInput()})).catch((function(){e.$toast.error("There was an error whilst uploading image.")})).finally((function(){e.isUploadingImage=!1,e.$emit("uploading-image",!1)}))},removeImage:function(){this.input.avatar_url="",this.input.avatar=null,this.onInput()}}},w=C,_=Object(h["a"])(w,x,I,!1,null,null,null),k=_.exports,$=n("d855"),S={name:"User",components:{CreateForm:v,Button:b["a"],EditForm:k,ForeShadow:$["a"],SimpleBar:o["a"]},props:{value:{type:Object,default:function(){}},loading:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1},showBackButton:{type:Boolean,default:!1}},data:function(){return{input:{},disableButton:!1}},watch:{value:{handler:function(t){this.input=Object(s["a"])({},t)},immediate:!0}},methods:{onFormSubmit:function(){this.$emit("input",this.input),this.$emit("submit",this.input)},toggleButtonDisable:function(t){this.disableButton=t}}},U=S,j=Object(h["a"])(U,a,i,!1,null,null,null);e["a"]=j.exports},"6bad":function(t,e,n){},"9a1a":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.spanClass,attrs:{title:t.textStatus}},[n("Toggle",{attrs:{color:"success"},on:{change:t.onChange},model:{value:t.inputStatus,callback:function(e){t.inputStatus=e},expression:"inputStatus"}})],1)},i=[],s=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"css-control css-control-sm css-switch",class:t.spanClass},[n("input",{ref:"input",staticClass:"css-control-input",attrs:{type:"checkbox"},domProps:{checked:t.value},on:{input:t.onInput}}),n("span",{staticClass:"css-control-indicator"}),t._v(" "+t._s(t.title)+" ")])}),o=[],u={name:"Toggle",props:{title:{type:String,default:""},value:{type:Boolean,default:!0},color:{type:String,default:"primary"}},computed:{spanClass:function(){return this.color?"css-control-".concat(this.color):""}},methods:{onInput:function(){var t=this.$refs.input.checked;this.$emit("input",t),this.$emit("change",t)}}},l=u,r=n("2877"),c=Object(r["a"])(l,s,o,!1,null,null,null),p=c.exports,d={name:"StatusColumn",components:{Toggle:p},props:{status:{type:Number,default:0}},data:function(){return{inputStatus:!1}},computed:{spanClass:function(){return this.status?"text-success":"text-danger"},textStatus:function(){return this.status?"active":"inactive"}},watch:{status:{handler:function(){this.inputStatus=!!this.status},immediate:!0}},methods:{onChange:function(t){var e=this;setTimeout((function(){e.inputStatus=!t,e.$emit("change",t)}))}}},m=d,f=Object(r["a"])(m,a,i,!1,null,null,null);e["a"]=f.exports},a292:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("InputBase",{attrs:{title:"Username",error:t.error,required:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.id,i=e.isInvalid;return[n("input",{ref:"input",staticClass:"form-control",class:{"is-invalid":i},attrs:{id:a,type:"text",autocomplete:"off",pattern:t.inputPattern,required:""},domProps:{value:t.value},on:{input:t.onInput}}),t.isLoading?n("div",{staticClass:"inp-icon",staticStyle:{width:"18px"}},[n("Loader")],1):t.isValid?n("div",{staticClass:"text-success inp-icon"},[n("i",{staticClass:"fa fa-check"})]):t._e()]}}])})},i=[],s=(n("d3b7"),n("2ef0")),o=n("2612"),u=n("850b"),l=n("9333"),r={name:"InputUsername",components:{InputBase:u["a"],Loader:l["a"]},props:{value:{type:String,default:""}},data:function(){return{isLoading:!1,isValid:!1,error:""}},computed:{inputPattern:function(){return this.error?"$^":".*"}},created:function(){this.checkAvailability=Object(s["debounce"])(this.checkAvailability,500)},methods:{onInput:function(){this.isLoading=!0;var t=this.$refs.input.value;this.$emit("input",t),this.checkAvailability(t)},updateError:function(t){this.error=t},checkAvailability:function(t){var e=this;if(this.isValid=!1,t.length<5)return this.updateError("The username must be at least 5 characters"),void(this.isLoading=!1);Object(o["b"])(t).then((function(n){if(n)return e.updateError(""),void(e.isValid=!0);e.updateError("".concat(t," is already taken"))})).catch((function(t){"request-cancel"!==t&&(e.error=t)})).finally((function(){e.isLoading=!1}))}}},c=r,p=(n("e97d"),n("2877")),d=Object(p["a"])(c,a,i,!1,null,null,null);e["a"]=d.exports},c6b1:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("InputBase",{attrs:{title:t.title,required:t.required,error:t.error},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.id,i=e.isInvalid;return[n("textarea",{ref:"input",staticClass:"form-control",class:{"is-invalid":i},attrs:{id:a,cols:t.cols,rows:t.rows,required:t.required,placeholder:t.placeholder},domProps:{value:t.value},on:{change:t.onChange,input:t.updateInput}})]}}])})},i=[],s=(n("a9e3"),n("850b")),o={name:"InputTextArea",components:{InputBase:s["a"]},props:{title:{type:String,default:""},cols:{type:[String,Number],default:30},rows:{type:[String,Number],default:10},onChange:{type:Function,default:function(){return[]}},value:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},error:{type:String,default:""}},methods:{updateInput:function(){this.$emit("input",this.$refs.input.value)}}},u=o,l=n("2877"),r=Object(l["a"])(u,a,i,!1,null,"7e79a4cc",null);e["a"]=r.exports},cad3:function(t,e,n){"use strict";var a=n("6bad"),i=n.n(a);i.a},e064:function(t,e,n){},e97d:function(t,e,n){"use strict";var a=n("16de"),i=n.n(a);i.a},f67a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-wrapper h-100"},[n("div",{staticClass:"h-100 d-flex flex-column"},[t.loading?n("div",{staticClass:"h-100 w-100 d-flex justify-content-center align-items-center"},[n("div",{staticStyle:{width:"30px"}},[n("Loader")],1)]):[t.url?n("div",{staticClass:"d-flex image-wrapper justify-content-center align-items-center flex-grow-1"},[n("img",{staticClass:"d-flex img-fluid",attrs:{src:t.url}})]):n("div",{staticClass:"placeholder d-flex justify-content-center align-items-center flex-grow-1",on:{click:t.openFileExplorer}},[n("i",{staticClass:"fa-4x",class:t.icon})])],n("div",{staticClass:"d-flex pt-2 bg-white"},[n("button",{staticClass:"btn btn-sm btn-success btn-noborder mr-1 flex-grow-1",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return e.preventDefault(),t.openFileExplorer(e)}}},[t._v(" Upload ")]),n("button",{staticClass:"btn btn-sm btn-danger btn-noborder ml-1 flex-grow-1",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return e.preventDefault(),t.$emit("remove")}}},[t._v(" Remove ")])])],2),n("input",{ref:"inpFile",staticClass:"d-none",attrs:{type:"file",accept:"image/png, image/jpeg, image/jpg, image/gif"},on:{change:t.uploadImage}})])},i=[],s=n("9333"),o={name:"ImageUpload",components:{Loader:s["a"]},props:{url:{type:String,default:""},icon:{type:String,default:"si si-user"},loading:{type:Boolean,default:!1}},methods:{openFileExplorer:function(){this.$refs.inpFile.click()},uploadImage:function(t){var e=t.target;if(e.files.length){var n=e.files[0],a=1e-6*n.size;a>10?this.$toast.error("Image size must be lower than 10mb."):this.$emit("upload",n)}}}},u=o,l=(n("06bc"),n("2877")),r=Object(l["a"])(u,a,i,!1,null,"47cb7866",null);e["a"]=r.exports}}]);